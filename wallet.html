<!DOCTYPE html>
<html lang="en" style="
    --tg-color-scheme: light;
    --tg-theme-bg-color: #ffffff;
    --tg-theme-text-color: #000000;
    --tg-theme-hint-color: #707579;
    --tg-theme-link-color: #3390ec;
    --tg-theme-button-color: #3390ec;
    --tg-theme-button-text-color: #ffffff;
    --tg-theme-secondary-bg-color: #f4f4f5;
    --tg-theme-header-bg-color: #ffffff;
    --tg-theme-accent-text-color: #3390ec;
    --tg-theme-section-bg-color: #ffffff;
    --tg-theme-section-header-text-color: #707579;
    --tg-theme-subtitle-text-color: #707579;
    --tg-theme-destructive-text-color: #e53935;
    --tg-viewport-height: 100vh;
    --tg-viewport-stable-height: 100vh;
  " class="mdl-js">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, viewport-fit=cover" />
    <title>Dragon Wallet</title>
    <link rel="stylesheet" href="index.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
</head>

<body style="background-color: var(--background) !important" data-new-gr-c-s-check-loaded="14.1174.0"
    data-gr-ext-installed="" class="ltr" data-new-gr-c-s-loaded="14.1174.0">
    <div id="app">
        <div class="drawer show">
            <div class="header fixed z-[1]">
              <button class="relative p-4 btn-back">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M14.9991 19L9.83911 14C9.56672 13.7429 9.34974 13.433 9.20142 13.0891C9.0531 12.7452 8.97656 12.3745 8.97656 12C8.97656 11.6255 9.0531 11.2548 9.20142 10.9109C9.34974 10.567 9.56672 10.2571 9.83911 10L14.9991 5" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path>
                </svg>
              </button>
              <div class="title">Wallet</div>
               <button id="btn-setting" class="relative p-4 btn-next">
                <div class="btn-right flex">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#EEEEEE" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
              <path d="M2 12.8799V11.1199C2 10.0799 2.85 9.21994 3.9 9.21994C5.71 9.21994 6.45 7.93994 5.54 6.36994C5.02 5.46994 5.33 4.29994 6.24 3.77994L7.97 2.78994C8.76 2.31994 9.78 2.59994 10.25 3.38994L10.36 3.57994C11.26 5.14994 12.74 5.14994 13.65 3.57994L13.76 3.38994C14.23 2.59994 15.25 2.31994 16.04 2.78994L17.77 3.77994C18.68 4.29994 18.99 5.46994 18.47 6.36994C17.56 7.93994 18.3 9.21994 20.11 9.21994C21.15 9.21994 22.01 10.0699 22.01 11.1199V12.8799C22.01 13.9199 21.16 14.7799 20.11 14.7799C18.3 14.7799 17.56 16.0599 18.47 17.6299C18.99 18.5399 18.68 19.6999 17.77 20.2199L16.04 21.2099C15.25 21.6799 14.23 21.3999 13.76 20.6099L13.65 20.4199C12.75 18.8499 11.27 18.8499 10.36 20.4199L10.25 20.6099C9.78 21.3999 8.76 21.6799 7.97 21.2099L6.24 20.2199C5.33 19.6999 5.02 18.5299 5.54 17.6299C6.45 16.0599 5.71 14.7799 3.9 14.7799C2.85 14.7799 2 13.9199 2 12.8799Z" stroke="#EEEEEE" stroke-width="2" stroke-miterlimit="10" stroke-linecap="round" stroke-linejoin="round"></path>
            </svg>
          </div>
              </button>
            </div>
            <div class="body">
                <div class="w-full flex flex-col items-center justify-between gap-2">
                    <div class="flex w-full justify-between items-center mt-10">
                      <p id="wallet-balance" class="total-balance text-center"></p>
                    </div>
                  </div>
                  <div class="block_balance mb-4">
                    <div class="flex w-full justify-between items-center flex-col">
                      <div class="mt-1 w-full flex justify-around items-center">
                        <div id="buttons-action"></div>
                      </div>
                    </div>
                  </div>
                  <tab-slip id="tab-slip"></tab-slip>
                  <div id="wallet-list"></div>
    </div>
          </div>
    </div>
    <script>
        // ---------------------------- Data Wallet ------------------------------ //
        const walletData = {
            balance: 81230,
            role: 'owner', // owner or shared
        }

        const tokensData = [
            {
                img: './assets/img/gem.png',
                name: 'DGEM',
                exchangeRate: 1,
                balance: 1202.2
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                exchangeRate: 525.39,
                balance: 123
            }, {
                img: './assets/img/coin-usdt.png',
                name: 'USDT',
                exchangeRate: 0.978108,
                balance: 24112
            }, {
                img: './assets/img/coin-busd.png',
                name: 'BUSD',
                exchangeRate: 0.994094,
                balance: 2311
            }, {
                img: './assets/img/coin-trx.png',
                name: 'TRX',
                exchangeRate: 0.060463,
                balance: 3141
            }, {
                img: './assets/img/coin-ton.png',
                name: 'TON',
                exchangeRate: 3107.52,
                balance: 1222.2
            }
        ]

        var membersData = [
            {
                id: 'gH2sRyZt6LwP',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
            {
                id: 'qB9vXp3j7sKt',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
            {
                id: 'mD4nFw8j2sLp',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
            {
                id: 'rY5tNq9b3mJvuT7jHw5vR9mX',
                joinAt: '12-07-204 20:27:33',
                isAdmin: true
            },
            {
                id: 'sZ8vFx6mQ1pK',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
            {
                id: 'uT7jHw5vR9mX',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
            {
                id: 'pW3sZt8mV2bL',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
            {
                id: 'yU9vMx2nB7sR',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            },
        ]
        // ---------------------------- Data Deposit ------------------------------ //
        var qrOptions = [
            { label: 'BEP-20', selected: false, value: 'bep20', qrcode: './assets/img/qrcode-bep20.png', address: '1A1zxawaPqwertyuiop1234567890ivfNa' },
            { label: 'TRC-20', selected: true, value: 'trc20', qrcode: './assets/img/qrcode-trc20.png', address: '1B2zyxwsPasdfghjklm0987654321uvfNc' },
            { label: 'TON', selected: false, value: 'ton', qrcode: './assets/img/qrcode-ton.png', address: '1C3yxwvPzxcvbnmasd9876543210wufNb' }
        ];

        // ---------------------------- Data Setting ------------------------------ //
        const walletKey = {
            phaseKey: ['galaxy', 'river', 'elephant', 'sunshine', 'quantum', 'velvet', 'horizon', 'whisper', 'dragon', 'mystic', 'labyrinth', 'eclipse', 'phoenix', 'crystal', 'nebula', 'harmony', 'voyage', 'ember', 'glacier', 'thunder'],
            privateKey: '4x1b0c95e8d2f42a6d01bc7360d0b0a1d75d423f6f2cf6b18d4174e80f4cf6f6'
        };

        // ---------------------------- Data Withdraw ------------------------------ //
        const initWithdrawOptions = [
            { label: '25%', selected: false, value: 25 },
            { label: '50%', selected: false, value: 50 },
            { label: '75%', selected: false, value: 75 },
            { label: 'MAX', selected: false, value: 100 }
        ]
        
        var withdrawPercentOptions = initWithdrawOptions;

        var selectedToken = tokensData[0]

        const initInfoWithdraw = {
            balance: tokensData[0]?.balance ?? 0,
            amountToken: undefined,
            subtotal: 0,
            priceImpact: 1,
            miniumReceived: 10,
            total: 0,
            type: 'user',
            toId: '',
            token: selectedToken.name
        }
        var infoWithdraw = {...initInfoWithdraw}

        const historiesData = [
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'success',
                balance: 1231.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'success',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'success',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'success',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'success',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'pending',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'pending',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'refused',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'refused',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            },
            {
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                status: 'success',
                balance: -1.231,
                approved: 3,
                totalMember: 5,
                createdTime: '11-07-204 20:27:33',
            }
        ]

        const ordersApproveData = [
            {
                id: '123123123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: true,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            },
            {
                id: '123113123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: true,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            }, {
                id: '133123123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: true,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            }, {
                id: '123113123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: true,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            }, {
                id: '123123223',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: true,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            },
        ]

        const ordersWaitData = [
            {
                id: '123123123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: 1,
                total: 10,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            },
            {
                id: '123113123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: 1,
                total: 10,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            }, {
                id: '133123123',
                img: './assets/img/coin-bnb.png',
                name: 'WBNB',
                balance: -1.231,
                approved: 1,
                total: 10,
                createdTime: '11-07-204 20:27:33',
                expriedTime: '12-07-204 20:27:33'
            }
        ]

        const membersDataUpdate = [
            {
                id: 'gH2sRyZt6LwP',
                joinAt: '12-07-204 20:27:33',
                isAdmin: false
            }
        ]
        const handleSubmitWithdraw = (otp) => {
            // TODO CALL API
            console.log('infoWithdraw: ', infoWithdraw)
            console.log("CALL API WITHDRAW")
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 2000);
            });
        }

        const handleSubmitApproveOrder = (order, status) => {
            // TODO CALL API
            console.log("CALL API APPROVE ORDER")
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 2000);
            });
        }

        const handleSubmitDeleteMember = (member) => {
            // TODO CALL API
            console.log("CALL API DELETE MEMBER")
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 2000);
            });
        }

        const handleSubmitAddMember = (id) => {
            // TODO CALL API
            console.log("CALL API ADD MEMBER")
            return new Promise((resolve) => {
                setTimeout(() => {
                    resolve();
                }, 2000);
            });
        }

        const getMembersData = () => {
            // Call api get list member
            membersData = membersDataUpdate
            return membersData
        }
    </script>
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript" src="./src/views/wallet.js"></script>
</body>

</html>